platform = 'merced.obp.outerbounds.com'
project = 'climate-prediction'
title = 'Climate Change Impact Predictor'

[project]
name = "climate-prediction"
version = "0.1.0"
description = "Climate Change Impact Predictor using ML and public datasets"

[project.settings]
default_branch = "main"
python_version = "3.10"

[dev-assets]
branch = 'main'

[project.dependencies]
metaflow = ">=2.11.0"
xarray = ">=2023.12.0"
pandas = ">=2.1.4"
numpy = ">=1.26.0"
torch = ">=2.1.0"
pytorch-lightning = ">=2.1.0"
transformers = ">=4.35.0"
xgboost = ">=2.0.3"
lightgbm = ">=4.1.0"
scikit-learn = ">=1.3.2"
fastapi = ">=0.104.0"
uvicorn = ">=0.24.0"
plotly = ">=5.18.0"
folium = ">=0.15.0"
rasterio = ">=1.3.9"
netCDF4 = ">=1.6.5"
cdsapi = ">=0.6.1"

[flows.climate-training]
file = "flows/climate_training_flow.py"
class = "ClimateTrainingFlow"
schedule = "manual"

[flows.climate-data-refresh]
file = "flows/climate_data_refresh_flow.py"
class = "ClimateDataRefreshFlow"
schedule = "0 */12 * * *"  # Every 12 hours

[deployments.climate-api]
file = "deployments/climate-api/app.py"
type = "fastapi"
port = 8080
resources.cpu = 4
resources.memory = "16GB"

[data.climate-observations]
type = "timeseries"
source = "multi"
description = "Combined NOAA, MODIS, and ERA5 climate data"

[models.temperature-predictor]
type = "transformer"
framework = "pytorch"
description = "Time series transformer for temperature forecasting"

[models.precipitation-predictor]
type = "lstm"
framework = "pytorch"
description = "LSTM for precipitation pattern prediction"

[models.extreme-events-classifier]
type = "gradient_boosting"
framework = "xgboost"
description = "Extreme weather event probability classifier"
